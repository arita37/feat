<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Feat: Examples</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Feat
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md_examples_EXAMPLES.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Examples </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h2>Command line example</h2>
<p>Feat can be run from the command-line. All of its options are configurable there. After a default build, the feat executable will be in the <code>build</code> directory. From the repo directory, type <code>./build/feat -h</code> to see options.</p>
<p>The first argument to the executable should be the dataset file to learn from. This dataset should be a comma- or tab-delimited file with columns corresponding to features, one column corresponding to the target, and rows corresponding to samples. the first row should be a header with the names of the features and target. <em>The target must be named as class, target, or label in order to be interpreted correctly.</em> See the datasets in the examples folder for guidance.</p>
<h3>ENC problem</h3>
<p>We will run Feat on the <a href="https://archive.ics.uci.edu/ml/datasets/Energy+efficiency">energy efficiency</a> dataset from UCI, which is included in <code>examples/d_enc.txt</code>. To run Feat with a population 1000 for 100 generations using a random seed of 42, type</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;./build/feat examples/d_enc.csv -p 100 -g 100 -r 42</div></div><!-- fragment --><p>The default verbosity=1, so you will get a printout of summary statistics each generation. The final output should look like </p><pre class="fragment">Generation 100/100 [//////////////////////////////////////////////////]
Min Loss    Median Loss Median (Max) Size   Time (s)
2.47920e+00 6.27829e+00 27 (37)         27.75276
Representation Pareto Front--------------------------------------
Rank    Complexity  Loss    Representation
1   1   1.65439e+01 [x_4]
1   2   1.25723e+01 [x_0][x_4]
1   3   1.03673e+01 [x_0][x_4][x_6]
1   4   1.01868e+01 [x_0][x_3][x_4][x_6]
1   5   1.00550e+01 [x_0][x_1][x_2][x_4][x_6]
1   6   9.98319e+00 [x_0][x_1][x_2][x_4][x_6][x_7]
1   7   9.78112e+00 [(x_1^2)][x_2][x_4][x_6]
1   8   9.70928e+00 [x_7][(x_1^2)][x_2][x_4][x_6]
1   9   9.68727e+00 [x_7][(x_1^2)][x_2][x_3][x_4][x_6]
1   10  9.33169e+00 [x_1][(x_2*x_0)][x_2][x_4][x_6]
1   11  9.32995e+00 [x_1][(x_2*x_0)][x_2][x_4][x_5][x_6]
1   12  8.84481e+00 [x_2][(x_1^2)][x_2][x_3][x_4][x_6][(x_3+x_0)]
1   14  8.08357e+00 [x_6][(x_2/(x_2^2))][x_4]
1   15  8.08357e+00 [x_6][(x_2/(x_2^2))][x_4][x_4]
1   17  7.95839e+00 [x_6][(x_2/(x_2^2))][x_4][(x_0-x_4)]
1   20  7.87072e+00 [x_6][(x_2/(x_2^2))][x_4][(x_6*x_7)]
1   21  7.55717e+00 [(x_2/(x_2^2))][(x_1+(x_6+x_2))][(x_0-x_4)][x_1]
1   22  7.47840e+00 [x_6][(x_2/(x_2^2))][x_4][log(x_1)]
1   23  4.84868e+00 [(x_2/(x_2^2))][(x_1^2)][x_2][x_3][x_4][x_6][(x_3+x_0)]
1   42  4.25015e+00 [((x_1+x_4)^2)][(x_2/x_1)][(x_6+(x_6+x_2))][(x_1-x_2)][((x_1^2)^2)][(x_0^2)][(x_0*x_2)]
1   45  4.23304e+00 [((x_1+x_4)^2)][(x_2/x_1)][(x_6+(x_6+x_2))][(x_1-x_2)][((x_1^2)^2)][(x_0^2)][(x_0*x_2)][(x_1-x_5)]
1   48  3.78240e+00 [((x_1+x_4)^2)][(x_2/x_1)][(x_6+(x_6+x_2))][(x_1-x_2)][((x_1^2)^2)][(x_0^2)][(x_0*x_2)][(x_4+x_3)][(x_1==x_4)]
1   64  3.02734e+00 [x_3][(x_2/x_1)][((x_4^2)/(x_2^2))][(x_1*(x_1^2))][(x_6+(x_1+x_2))][((x_1^2)^2)][((x_1+x_4)^2)][(x_0^2)]
1   67  2.96073e+00 [x_3][(x_2/x_1)][((x_4^2)/(x_2^2))][(x_1*(x_1^2))][(x_6+(x_1+x_2))][((x_1^2)^2)][((x_1+x_4)^2)][(x_0^2)][(x_4-x_7)]
1   70  2.76775e+00 [x_3][(x_2/x_1)][((x_4^2)/(x_2^2))][(x_1*(x_1^2))][(x_6+(x_1+x_2))][((x_1^2)^2)][((x_1+x_4)^2)][(x_0^2)][(x_6*x_7)]
1   73  2.75930e+00 [x_1][(x_2/x_1)][((x_4^2)/(x_2^2))][(x_1*(x_1^2))][(x_6+(x_1+x_2))][((x_1^2)^2)][((x_1+x_4)^2)][(x_0^2)][(x_6*x_7)][(x_1-x_2)]
1   74  2.75432e+00 [x_3][(x_2/x_1)][((x_4^2)/(x_2^2))][(x_1*(x_1^2))][(x_6+(x_1+x_2))][((x_1^2)^2)][((x_1+x_4)^2)][(x_0^2)][(x_6*x_7)][(x_6^2)]
1   78  2.74151e+00 [x_3][(x_2/x_1)][((x_4^2)/(x_2^2))][(x_1*(x_1^2))][(x_6+(x_1+x_2))][((x_1^2)^2)][((x_1+x_4)^2)][(x_0^2)][(x_6*x_7)][exp(x_4)]
1   80  2.57538e+00 [x_3][(x_2/x_1)][((x_4^2)/(x_2^2))][(x_1*(x_1^2))][(x_6+(x_1+x_2))][((x_6^2)^2)][((x_1^2)^2)][((x_1+x_4)^2)][(x_6*x_4)][(x_0^2)]
1   115 2.52790e+00 [((exp(x_3)^2)^2)][(x_2/x_1)][((x_4^2)/(x_2^2))][(x_1*(x_0^2))][(x_6+x_2)][((x_6^2)^2)][((x_1^2)^2)][((x_1+x_4)^2)][(x_6*x_4)][(x_0^2)]
1   117 2.49092e+00 [((exp(x_3)^2)^2)][(x_2/x_1)][((x_4^2)/(x_2^2))][(x_0*(x_0^2))][(x_6+(x_1+x_2))][((x_6^2)^2)][((x_1^2)^2)][((x_1+x_4)^2)][(x_6*x_4)][(x_0^2)]
1   129 2.47920e+00 [((exp(x_3)^2)^2)][(x_2/x_1)][((x_4^2)/((x_2^2)^2))][(x_1*(x_0^2))][(x_6+(x_1+x_2))][((x_6^2)^2)][((x_1^2)^2)][((x_1+x_4)^2)][(x_6*x_4)][(x_0^2)]


finished
best training representation: [((exp(x_3)^2)^2)][(x_2/x_1)][((x_4^2)/((x_2^2)^2))][(x_1*(x_0^2))][(x_6+(x_1+x_2))][((x_6^2)^2)][((x_1^2)^2)][((x_1+x_4)^2)][(x_6*x_4)][(x_0^2)]
train score: 2.479198
best validation representation: [x_3][(x_2/x_1)][((x_4^2)/(x_2^2))][(x_1*(x_1^2))][(x_6+(x_1+x_2))][((x_1^2)^2)][((x_1+x_4)^2)][(x_0^2)]
validation score: 3.596077
final_model score: 3.202949
generating training prediction...
predicting with best_ind
train score: 3.20295e+00
generating test prediction...
predicting with best_ind
test score: 4.24600e+00
done!
</pre><h3>tab-delimited csv files</h3>
<p>When using tab-delimited csv files as input, specify <code>-sep \\t</code> or <code>-sep "\\t"</code> at the command line.</p>
<h3>Feat Cross Validator</h3>
<p>The cross-validation version of Feat named <code>feat_cv</code> is also built and present in the build/ directory. For cross validation, there are several hyperparameters of Feat that can be tuned:</p>
<ul>
<li>pop_size</li>
<li>generations</li>
<li>ml</li>
<li>max_stall</li>
<li>selection</li>
<li>survival</li>
<li>cross_rate</li>
<li>functions</li>
<li>max_depth</li>
<li>max_dim</li>
<li>erc</li>
<li>objectives</li>
<li>feedback</li>
</ul>
<p>There are 2 ways to set the hyper parameters for feat_cv. The first method is to define a string in <code>cv_main.cc</code> file and pass that to the feat_cv constructor. See <code>cv_main.cc</code> for details.</p>
<p>The second method is to create a input file containing group of parameters and pass the filepath using <code>-infile</code> flag. Check featcvinput.txt for a sample input file. The input file contains a string similar to the one in <code>cv_main.cc</code>.</p>
<p>The general structure of input file is `[{'token1': (val1, val2, val3), 'token2': (val1, val2)}, {'token1': (val1, val2, val3), 'token2': (val1, val2)}]` </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
